---
layout: post
title: 'Polyfill service 1.0'
date: 2014-10-01
categories: [ex-wordpress, news]
permalink: /2014/10/polyfill-service-1-0/
author: andrew
---
<p>We just released v1.0 of the <a href="http://cdn.polyfill.io" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://cdn.polyfill.io', 'polyfill service');">polyfill service</a>.  It&#8217;s taken us a long time to get to this release (well, longer than we had hoped anyway), but we&#8217;re incredibly proud of it.  Here&#8217;s what&#8217;s new since our initial release:</p>
<h2>Comprehensive test framework</h2>
<p>We can now test polyfills using both feature detects and test suites, and as part of the service itself, make those tests available for anyone to run in a browser.  We created an automation harness that runs them on <a href="http://saucelabs.com" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://saucelabs.com', 'Sauce Labs&#8217; platform');">Sauce Labs&#8217; platform</a>, allowing us to automate the verification of all polyfills in dozens of browsers.</p>
<p><figure><img alt='Sauce Labs test results' src="/wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.22.50.png" width="669" class="alignnone size-full wp-image-11901" srcset="../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.22.50.png 669w, ../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.22.50-300x162.png 300w" sizes="(max-width: 669px) 100vw, 669px" /></figure></p>
<p>With this in place we can be super-confident about accepting contributions from the community, because the tests are run automatically via Travis CI on every pull request.  Running tests on 20 different browsers takes a while, but the confidence to merge fixes to polyfills is well worth the wait.</p>
<h2>Better docs</h2>
<p>With the improved tests, we had a ton of new stuff to add to the docs, so we separated the docs into pages, added a better intro page with quick start code, and added a feature matrix so you can see at a glance which features we support, and in which browsers:</p>
<p><figure><img alt='Feature matrix' src="/wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-17.49.05.png" width="853" class="alignnone size-full wp-image-11891" srcset="../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-17.49.05.png 853w, ../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-17.49.05-300x97.png 300w" sizes="(max-width: 853px) 100vw, 853px" /></figure></p>
<p>This is populated from the automated tests, so is kept up to date automatically as we add, update and fix polyfills.</p>
<h2>Usage stats</h2>
<p>Our docs now also include stats we&#8217;re pulling from Fastly and Pingdom to show you much the service is being used, its average response time and whether we have had any outages (so far, no downtime!).</p>
<p><figure><img alt='Polyfill service usage stats' src="/wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.25.49.png" width="1016" class="alignnone size-full wp-image-11911" srcset="../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.25.49.png 1016w, ../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.25.49-300x203.png 300w" sizes="(max-width: 1016px) 100vw, 1016px" /></figure></p>
<p>These are nice to look at but also help show the fruits of our efforts to be <a href="/2014/10/caching-user-agent-specific-responses-with-fastly/" title="Caching User-Agent specific responses with Fastly">smarter about caching UA-varying responses</a>, which we do using some clever custom VCL on the Fastly CDN.</p>
<h2>Contribution guide</h2>
<p>We also added a <a href="http://cdn.polyfill.io/v1/docs/contributing" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://cdn.polyfill.io/v1/docs/contributing', 'detailed contributor guide');">detailed contributor guide</a> for anyone that wants to add to or improve the polyfill set.  And to encourage people to help out, we&#8217;re giving away <strong>free premium access to FT content</strong> for any contributors who have a PR merged (currently any contribution qualifies, but we may add qualifying criteria in future).  As well as our news content this includes all our columnists, arts and travel, and lots more.  It retails for $50 a month.</p>
<h2>Variants</h2>
<p>Finally, we came up with a smarter way of doing variants.  Polyfilling the same feature in two different browsers can sometimes require two different implementations, and we previously supported this by simply having two polyfills, with the browser as a suffix, like <code>Element.prototype.matches.moz</code>.  But this is complicated when users can request a feature by name, and also when different variants have different dependencies, which may also be browser specific.</p>
<p>Instead, we now have variations within each feature config, so that all variants can share the same name, the same detect and the same test suite, but have different implementations per browser.  We can also use canonical names for dependencies.</p>
<p><figure><img alt='Variants config' src="/wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.31.42.png" width="662" class="alignnone size-full wp-image-11931" srcset="../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.31.42.png 662w, ../../../wp-content/uploads/2014/10/Screen-Shot-2014-10-30-at-18.31.42-300x194.png 300w" sizes="(max-width: 662px) 100vw, 662px" /></figure></p>
<h2>Try it</h2>
<p>It&#8217;s great to have got to our 1.0 release.  Give it a go, give us some feedback, and if you can, get involved.</p>
