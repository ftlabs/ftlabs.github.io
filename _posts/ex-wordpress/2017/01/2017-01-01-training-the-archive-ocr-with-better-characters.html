---
layout: null
title: Training the Archive OCR with better characters
date: 2017-01-01
permalink: /2017/01/training-the-archive-ocr-with-better-characters
---
<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en-GB"> <![endif]-->
<!--[if IE 7]>		<html class="no-js lt-ie9 lt-ie8" lang="en-GB"> <![endif]-->
<!--[if IE 8]>		<html class="no-js lt-ie9" lang="en-GB"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en-GB"> <!--<![endif]-->
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Training the Archive OCR with better characters | FT Labs</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
	<script src="https://polyfill.webservices.ft.com/v2/polyfill.min.js"></script>
	<script src="../../../wp-content/themes/ftlabs-2016/main.js"></script>
	<link rel="stylesheet" type="text/css" media="all" href="../../../wp-content/themes/ftlabs-2016/style.css" />

	<link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="FT Labs &raquo; Feed" href="../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="FT Labs &raquo; Comments Feed" href="../../../comments/feed/index.html" />
<link rel='stylesheet' id='prettify-css'  href='../../../wp-content/plugins/prettify-code-highlight/code.css%3Fver=4.6.4.css' type='text/css' media='all' />
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-32884353-1', 'labs.ft.com');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->
<link rel='https://api.w.org/' href='../../../wp-json/index.html' />
<link rel='prev' title='Improving text extraction from the FT Archives with Tesseract' href='../../../index.html%3Fp=14291.html' />
<link rel='next' title='Ad Blocking Experiments' href='../../../index.html%3Fp=14312.html' />
<link rel="canonical" href="../../../index.html%3Fp=14298.html" />
<link rel='shortlink' href='../../../index.html%3Fp=14298.html' />
<link rel="alternate" type="application/json+oembed" href="../../../wp-json/oembed/1.0/embed%3Furl=http%253A%252F%252Flabs.ft.com%252F2017%252F01%252Ftraining-the-archive-ocr-with-better-characters%252F" />
<link rel="alternate" type="text/xml+oembed" href="../../../wp-json/oembed/1.0/embed%3Furl=http%253A%252F%252Flabs.ft.com%252F2017%252F01%252Ftraining-the-archive-ocr-with-better-characters%252F&amp;format=xml" />
</head>
<body class="single single-post postid-14298 single-format-standard">
	<div class="app" ontouchstart="">
		<div class='container'>
			<div class='sidebar'>
				<div class='logo-wrap'>
					<a href='../../../index.html' class='logo'>
						<h1>FT Labs</h1>
					</a>
				</div>
				<nav>
					<ul id="menu-header-navigation" class="app-header_nav"><li id="menu-item-14082" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14082"><a href="../../../index.html">Home</a></li>
<li id="menu-item-14083" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-14083"><a href="../../../articles.1.html">Articles</a></li>
<li id="menu-item-14084" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14084"><a href="../../../jobs.1.html">Jobs</a></li>
<li id="menu-item-14085" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14085"><a href="../../../contact-us.1.html">Contact</a></li>
</ul>				</nav>
			</div>
			<main>
			<script> var page = 'article-view';
			</script>
				<article class="article_content body-text">
									<h1>Training the Archive OCR with better characters</h1>
					<div class="date">by <a href="../../../author/ftlabs/index.html">FT Labs</a>, <time class="entry-date" datetime="2017-01-19T17:08:44+00:00" pubdate>19 January 2017</time></div>					<p>After achieving a significant improvement in the accuracy of text extracted from the FT Archives (scans of every page of every issue since 1888) using just the default settings of <a href="https://github.com/tesseract-ocr" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/tesseract-ocr', 'Tesseract');" target="_blank">Tesseract</a> (<a href="../../../index.html%3Fp=14291.html" target="_blank">see previous blog post</a>), we still had whole decades of FT issues where the <a href="https://en.wikipedia.org/wiki/Optical_character_recognition" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://en.wikipedia.org/wiki/Optical_character_recognition', 'OCR');" target="_blank">OCR</a> had failed to extract any meaningful text from the scanned images of the pages. Since we (humans) could read the text in most of those images ok, it was obviously possible to extract meaning from them. We persevered with Tesseract, in particular its training feature.</p>
<h2>Training Tesseract</h2>
<p>Tesseract is powered by a neural network which can be fed new examples of what various alphanumeric characters look like in a variety of contexts. Each item of training data is one instance of one character, including the correct value of the character, its location in the image of the article, and the cropped image of that one character extracted from the page image.</p>
<p>But how do we get such precise coordinates and images for each and every character of every article in every page of every issue? From Tesseract. When Tesseract scans a document, it will typically dump the text it finds into a text file in one whole piece with limited effort having been made to maintain the structure of the document, but Tesseract can also be told to instead to dump out a text file with the coordinates of each character image it identified.<br />
<span id="more-14298"></span></p>
<p><a href="../../../wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-17.00.17.png"><img alt='letters captured in the wilds of the Archive' src="https://image.webservices.ft.com/v1/images/raw/http://ftlabs.wpengine.com/wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-17.00.17.png" width="659" class="aligncenter size-full wp-image-14300" srcset="../../../wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-17.00.17.png 659w, ../../../wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-17.00.17-300x93.png%3Fsource=ftlabs 300w" sizes="(max-width: 659px) 100vw, 659px" /></a></p>
<p>With these coordinates, we can construct the image and text files needed to train Tesseract to better understand the documents it is scanning. Problem is, we can&#8217;t train a neural network with this information directly, since the value of each character is set to whatever Tesseract thought it was during its initial OCR pass. No new information has been added, so the neural network would not be able to improve.</p>
<h2>Introducing &#8220;The Educator&#8221;</h2>
<p>The Educator is a small web app which takes the character data produced by Tesseract and asks a person whether or not a specific letter it is displaying is the letter it thinks it is. If no, they either correct it or tell us that what had been scanned was not, in fact, a letter.</p>
<p><a href="../../../wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-16.58.56.png"><img alt='The Educator asks if it is a W' src="https://image.webservices.ft.com/v1/images/raw/http://ftlabs.wpengine.com/wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-16.58.56.png" width="449" class="aligncenter size-full wp-image-14299" srcset="../../../wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-16.58.56.png 449w, ../../../wp-content/uploads/2017/01/Screen-Shot-2017-01-19-at-16.58.56-300x154.png%3Fsource=ftlabs 300w" sizes="(max-width: 449px) 100vw, 449px" /></a></p>
<p>We can now teach Tesseract how to read the different views of each alphanumeric character appearing in the newspaper, and we can create different sets of views for the different decades that we want to scan. </p>
<p>But, this is still a largely manual process. A person has to sit down and tell the computer what letter is what, and that can become tiresome after a while &#8211; even with tools such as the Educator that make the job a bit easier. Manually correcting 1300 characters via the Educator takes approximately an hour and that is a drop in the ocean compared to the many millions of examples found by Tesseract.</p>
<h2>Scaling up the Educator</h2>
<p>We are considering several options to to tackle this problem, the FT’s equivalent of <a href="https://techcrunch.com/2012/03/29/google-now-using-recaptcha-to-decode-street-view-addresses/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://techcrunch.com/2012/03/29/google-now-using-recaptcha-to-decode-street-view-addresses/', 'Google’s use of reCaptcha');" target="_blank">Google’s use of reCaptcha</a> to parse street signs and house numbers on Google Maps, and analysing astronomical data for signs of E.T. with <a href="https://setiathome.berkeley.edu/" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://setiathome.berkeley.edu/', 'SETI@Home');" target="_blank">SETI@Home</a>.</p>
<p>In no particular order: </p>
<ul>
<li>Wait for OCR technology to improve. This seems like an increasingly viable approach, given the recent strides in Machine Learning.</li>
<li>Simply publish extracts from the archive and invite readers to respond if they spot typos</li>
<li>Offer a prize for readers finding the ‘best’ transcription errors (see the &#8216;slightly fairer&#8217; example image in the <a href="../../../index.html%3Fp=14291.html" target="_blank">previous post</a> for just such an error &#8230;)</li>
<li>Offer short-term subscriptions to readers in return for transcribing articles</li>
<li>Offer a Quid Pro Quo to readers running Ad Blockers &#8211; transcribe a few blurry words and we’ll stop nagging.</li>
<li>&#8230; and many more</li>
</ul>
<p>This and the <a href="../../../index.html%3Fp=14291.html" target="_blank">previous (archive-related) post</a> are based on notes from a <a href="https://twitter.com/MobliMic/status/797456559043411968" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://twitter.com/MobliMic/status/797456559043411968', 'presentation');" target="_blank">presentation</a> given at <a href="https://twitter.com/BarcampSouth" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://twitter.com/BarcampSouth', 'Barcamp Southampton');" target="_blank">Barcamp Southampton</a>.</p>
									</article>
				<div id='comments'></div>
						</main>
		</div>
		<footer class="o-footer o-footer--theme-light" id="footer">
			<div class="o-footer__row o-footer__copyright">
				<div class="o-footer__col o-footer__col--full-width">
					<span>© THE FINANCIAL TIMES LTD 2016.</span>
					<span><abbr title="Financial Times">FT</abbr> and ‘Financial Times’ are trademarks of The Financial Times Ltd.</span>
				</div>
			</div>
			<div class="o-footer__pearson">
				<div class="o-footer__row">
					<div class="o-footer__col o-footer__col--full-width">
						<div class="o-footer__pearson-tagline" aria-label="Always Learning"></div>
						<div class="o-footer__pearson-logo" aria-label="Pearson"></div>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<script>window.onload = function() { prettyPrint(); }</script><script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js?ver=4.6.4'></script>
<script type='text/javascript' src='../../../wp-includes/js/wp-embed.min.js%3Fver=4.6.4'></script>
		<!--
	JIRA Issue collector seems v unreliable
	<script type="text/javascript" src="https://jira.ft.com/s/522ea8c716f027c1d18693d0cb29a056-T/en_UK-7dt5dq/64016/3/1.4.25/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&amp;collectorId=eb5e21bf"></script>-->
</body>
</html>
