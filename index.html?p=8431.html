<!doctype html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en-GB"> <![endif]-->
<!--[if IE 7]>		<html class="no-js lt-ie9 lt-ie8" lang="en-GB"> <![endif]-->
<!--[if IE 8]>		<html class="no-js lt-ie9" lang="en-GB"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en-GB"> <!--<![endif]-->
<head>
	<meta charset="UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>A sobering day | FT Labs</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
	<script src="https://polyfill.webservices.ft.com/v2/polyfill.min.js"></script>
	<script src="wp-content/themes/ftlabs-2016/main.js"></script>
	<link rel="stylesheet" type="text/css" media="all" href="wp-content/themes/ftlabs-2016/style.css" />

	<link rel='dns-prefetch' href='http://cdnjs.cloudflare.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="FT Labs &raquo; Feed" href="feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="FT Labs &raquo; Comments Feed" href="comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="FT Labs &raquo; A sobering day Comments Feed" href="2013/05/a-sobering-day/feed/index.html" />
<link rel='stylesheet' id='prettify-css'  href='wp-content/plugins/prettify-code-highlight/code.css%3Fver=4.6.4.css' type='text/css' media='all' />
<!-- This site uses the Google Analytics by Yoast plugin v5.4.6 - Universal enabled - https://yoast.com/wordpress/plugins/google-analytics/ -->
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','__gaTracker');

	__gaTracker('create', 'UA-32884353-1', 'labs.ft.com');
	__gaTracker('set', 'forceSSL', true);
	__gaTracker('send','pageview');

</script>
<!-- / Google Analytics by Yoast -->
<link rel='https://api.w.org/' href='wp-json/index.html' />
<link rel='prev' title='Tutorial 4: History API in an offline HTML5 web app' href='index.html%3Fp=7951.html' />
<link rel='next' title='Thoughts from Edge 2' href='index.html%3Fp=9161.html' />
<link rel="canonical" href="index.html%3Fp=8431.html" />
<link rel='shortlink' href='index.html%3Fp=8431.html' />
<link rel="alternate" type="application/json+oembed" href="wp-json/oembed/1.0/embed%3Furl=http%253A%252F%252Flabs.ft.com%252F2013%252F05%252Fa-sobering-day%252F" />
<link rel="alternate" type="text/xml+oembed" href="wp-json/oembed/1.0/embed%3Furl=http%253A%252F%252Flabs.ft.com%252F2013%252F05%252Fa-sobering-day%252F&amp;format=xml" />
</head>
<body class="single single-post postid-8431 single-format-standard">
	<div class="app" ontouchstart="">
		<div class='container'>
			<div class='sidebar'>
				<div class='logo-wrap'>
					<a href='index.html' class='logo'>
						<h1>FT Labs</h1>
					</a>
				</div>
				<nav>
					<ul id="menu-header-navigation" class="app-header_nav"><li id="menu-item-14082" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14082"><a href="index.html">Home</a></li>
<li id="menu-item-14083" class="menu-item menu-item-type-post_type menu-item-object-page current_page_parent menu-item-14083"><a href="articles.1.html">Articles</a></li>
<li id="menu-item-14084" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14084"><a href="jobs.1.html">Jobs</a></li>
<li id="menu-item-14085" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-14085"><a href="contact-us.1.html">Contact</a></li>
</ul>				</nav>
			</div>
			<main>
			<script> var page = 'article-view';
			</script>
				<article class="article_content body-text">
									<h1>A sobering day</h1>
					<div class="date">by <a href="author/andrew/index.html">Andrew Betts</a>, <time class="entry-date" datetime="2013-05-29T17:39:54+00:00" pubdate>29 May 2013</time></div>					<p>I&#8217;ve always considered myself relatively invulnerable to phishing attacks, in which an attacker creates duplicate login pages that look like a system a victim would normally use, in order to dupe them into giving away their username and password.  In contrast, less experienced web users are extraordinarily vulnerable to this kind of attack, since without a good understanding of how the web works, it&#8217;s almost impossible to tell real from fake.</p>
<p>About 10 days ago, the hacker or hackers calling themselves the Syrian Electronic Army (SEA) carried out a very targeted cyberattack against the FT.  We&#8217;re not the first to be targeted and in fact as I write this we&#8217;re not even the most recent.  But the experience taught me an important lesson. Targeted attacks against a single large corporation are not like the random, almost embarrassingly fake emails you get telling you to reset your PayPal account.  They&#8217;re painfully, soberingly realistic.  Those that were sent to the FT compromised scores of our corporate Google accounts.  And one of those was mine.</p>
<h2>How it happened</h2>
<p>On May 14th, some emails containing a phishing link entered the FT from external email accounts.  Some of these were from the personal accounts of FT staff, suggesting that they had already been targeted personally, even though the email account targeted was not technically associated with the FT.  The emails contained a link, which appeared to be an article on CNN.com, but was actually a link to an already hacked WordPress site (rather a high profile one but we thought it rude to name them, and they&#8217;ve since fixed it).  The site was hosting a file called <strong>ft.php</strong>.  Because the email was HTML formatted, it could link to one URL while displaying another, so the link didn&#8217;t look like the URL it actually linked to:</p>
<p><figure><img class="alignnone size-full wp-image-8471" src="https://image.webservices.ft.com/v1/images/raw/http://ftlabs.wpengine.com/wp-content/uploads/2013/05/email1.png" alt="Sample phishing email" width="764" srcset="wp-content/uploads/2013/05/email1.png 764w, wp-content/uploads/2013/05/email1-300x95.png%3Fsource=ftlabs 300w" sizes="(max-width: 764px) 100vw, 764px" /></figure></p>
<p>The hacked WordPress site redirected the user to a page hosted on googlecom.webege.com, which looked identical to our corporate email login screen (the FT uses Google Apps for internal email).</p>
<p>If you submitted the form on the googlecom.webege.com page, the data was sent to a PHP script on the same host, and it then logged you into your real Google account and redirected you to GMail so you were none the wiser.  We managed to cause some errors in the script, which suggested it was invoking a shell command using your google account data as command line arguments.  We also reported the site to the web host, and later in the day, they took the site down.</p>
<p>By targeting those FT staff that advertise their email address publicly, the hackers eventually managed to secure access to an FT.com corporate email account.  With this, they also had access to our global address list and with it the email addresses of every member of FT staff.  They began sending the same email to a much larger number of FT.com users, this time from legitimate FT.com email accounts.</p>
<p>Our IT support team had received reports of the phishing, and issued an alert to all staff to ignore phishing emails and at the same time suspended the known compromised accounts.  Unfortunately, this also gave the hacker better material &#8211; the alerts were in the inboxes of the hacked accounts, so the hackers adjusted the emails they were sending to use our IT service desk alert message, using the alert and people&#8217;s desire to be secure in the face of the attack to hook more victims:</p>
<p><figure><img alt='phish' src="https://image.webservices.ft.com/v1/images/raw/http://ftlabs.wpengine.com/wp-content/uploads/2013/05/phish.png" width="761" class="alignnone size-full wp-image-8631" srcset="wp-content/uploads/2013/05/phish.png 761w, wp-content/uploads/2013/05/phish-300x211.png%3Fsource=ftlabs 300w" sizes="(max-width: 761px) 100vw, 761px" /></figure></p>
<p>At this point, we have an email using real FT terminology, coming from a genuine FT.com email address, asking users to log in and change their password, with a link to a login page for the exact email system that we use at the FT.</p>
<p>Eventually, the circulation of phishing links stopped, when Google blacklisted the URL.  Future emails containing that link would now be bounced.  But with the accounts they had already compromised, the hackers had managed to perform a password reset on a valid account for our blog platform, and also gain access to a number of our Twitter accounts.  This was when we saw SEA content being published on FT channels &#8211; some of it with my name on.</p>
<p>Developers might well think they&#8217;d be wise to all this &#8211; and I thought I was.  I got the email, and clicked the link, but then I recognised the phishing page for what it was and reported it without filling in the form.  It&#8217;s been suggested to me that I might have left the tab open and inadvertently logged in later when switching tabs without looking at the URL, and I guess that must be what happened in my case.</p>
<h2>How we responded</h2>
<p>Our operations and development teams use a product called <a href="http://www.splunk.com" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://www.splunk.com', 'Splunk');">Splunk</a> to collect and analyse logs in near real time.  Google also provide us with access to a team who can access logs on their side.  We began to build a picture of the attackers traffic patterns and identifying traits.  We could start to track them with greater accuracy as they continued to try and access a variety of systems.</p>
<p>Meanwhile, we took action to lock down systems and get back control:</p>
<ul>
<li>We invoked IP restrictions, limiting access to many systems to those within an FT network</li>
<li>The compromised Google accounts were all deactivated by Google</li>
<li>Twitter locked all our Twitter accounts and changed the credentials</li>
<li>We activated more aggressive measures to alert us to suspicious login attempts</li>
</ul>
<h2>Security lessons</h2>
<p>The only two systems (other than the Google mail accounts) which were successfully compromised were Twitter (many of our accounts), and WordPress (two blogs out of around 60).  Twitter and WordPress are probably the two most ubiquitous publicly accessible tools in use at the FT, so it doesn&#8217;t seem surprising that they were targeted.  This problem will likely get worse over time as more organisations adopt the same online tools &#8211; if a vulnerability is found against one, it can be used against all &#8211; increasing the motivation for the hackers to find holes.</p>
<p>On the other hand, adoption of more ubiquitous tools is a good thing.  Switching to Google accounts (a move which the FT completed last year) gives us access to a well designed two-factor authentication system and automated security checks that offer a much more robust defense.  In a sense, although there may be more people banging on the door, the door is more solid.  Unfortunately, on Friday, we discovered that we had left it ajar.  <yellow>We&#8217;re now enthusiastically adopting <strong>two-factor authentication</strong> across the organisation</yellow>, and mandating its use for anyone in roles likely to be targeted.  Personally, I hope we&#8217;re able to achieve 100% coverage of two-factor auth as quickly as possible.</p>
<p>Having set tighter security standards, we&#8217;re also now <strong>re-auditing all points of authentication</strong> at which an untrusted user can be granted privileged access to an FT technology resource, <strong>reducing and removing privileges more aggressively</strong> where they are not absolutely necessary, educating and assisting users by <strong>setting clearer expectations of security standards</strong>, and improving our <strong>speed of detection and response</strong> when attacks occur.  It seems complacent to think that we can close all possible vulnerabilities, and a swift and decisive response is a good second best to prevention.</p>
<p>Large organisations, especially media companies, will always be vulnerable to cyber attack &#8211; the attack surface is huge, and the attacker needs only a tiny chink in the armour.  We reluctantly join an illustrious list of organisations that have suffered similar attacks in recent weeks &#8211; Associated Press, the Onion, Sky News, the BBC, the Guardian, and just a few days after us, the Telegraph.</p>
<h2>Is this the end?</h2>
<p>Not quite.  We&#8217;re actually quite familiar with the hacker or hackers that call themselves the SEA, because we&#8217;ve <a href="http://blogs.ft.com/the-world/2013/04/the-syrian-electronic-army-an-introductory-reading-list/?">written about their activities</a> against media organisations several times.  Our colleagues in Abu Dhabi actually made contact with the group through what appears to be the organisation&#8217;s official Twitter account, and interviewed them over email, <a href="http://www.ft.com/cms/s/0/2f67e77a-acf8-11e2-9454-00144feabdc0.html">which we also published</a>.</p>
<p>In the wake of the FT attack, we contacted them again, and got this reply from their purported spokesperson (unedited):</p>
<blockquote><p><i>Yes, we did hack the FT today to publish some information that all of the major news organizations have been ignoring. The bloody nature of the Syrian so-called &#8220;rebels&#8221; has been deliberately overlooked in favour of statistics distributed by various bodies and a single man in Coventry. All of the violence has been pinned on the Syrian Arab Army that is simply defending its soil.<br />
The FT definitely is the less bias of the western media establishment so our attack was very light. We thought it was important for your financially concious viewers to observe the results of what their government was funding. We are disgusted to the core at William Hague and David Cameron&#8217;s recent allocation of 40 million pounds to fuel death and destruction in our country in order to obtain political concessions. This is terrorism by definition and we have evidence from a sky news hack that the FCO is directly involved in not only finance but procurement. No one we have contacted in the media was willing to run the story so we had no choice but to take matters into our own hands.<br />
We have no further plans to hack the FT and we hope there are no hard feelings. We are only trying to save our civilization. Our voice is small we hope you can lend us yours.</i></p></blockquote>
<p>This is a technical post about security, so I won&#8217;t comment on the above apart from to say that the activity we see from the SEA comes from Russia as well as Syria.</p>
<h2>Hack culture</h2>
<p>Rather ironically, we were hacked on a Friday, and the following Monday and Tuesday was the annual FT Technology Hack Day event.  Hacking comes in many guises, and while some are destructive, others are creative. Here&#8217;s what hacking means to us:</p>
<p><figure><img alt='PastedGraphic-11-small stretch' src="https://image.webservices.ft.com/v1/images/raw/http://ftlabs.wpengine.com/wp-content/uploads/2013/05/PastedGraphic-11.png" width="682" class="alignnone size-full wp-image-8701" srcset="wp-content/uploads/2013/05/PastedGraphic-11.png 682w, wp-content/uploads/2013/05/PastedGraphic-11-300x240.png%3Fsource=ftlabs 300w" sizes="(max-width: 682px) 100vw, 682px" /></figure></p>
<p>Developers proudly wear T-shirts that say &#8216;Hacker&#8217;.  Journalists are actually fondly referred to as &#8216;hacks&#8217;.  We like hacking a lot.  We just need to be better at keeping the hackers we don&#8217;t like from interfering with the hackers (and indeed, hacks) that we do.</p>
<p>Hack on.</p>
									</article>
				<div id='comments'></div>
						</main>
		</div>
		<footer class="o-footer o-footer--theme-light" id="footer">
			<div class="o-footer__row o-footer__copyright">
				<div class="o-footer__col o-footer__col--full-width">
					<span>© THE FINANCIAL TIMES LTD 2016.</span>
					<span><abbr title="Financial Times">FT</abbr> and ‘Financial Times’ are trademarks of The Financial Times Ltd.</span>
				</div>
			</div>
			<div class="o-footer__pearson">
				<div class="o-footer__row">
					<div class="o-footer__col o-footer__col--full-width">
						<div class="o-footer__pearson-tagline" aria-label="Always Learning"></div>
						<div class="o-footer__pearson-logo" aria-label="Pearson"></div>
					</div>
				</div>
			</div>
		</footer>
	</div>
	<script>window.onload = function() { prettyPrint(); }</script><script type='text/javascript' src='http://cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.min.js?ver=4.6.4'></script>
<script type='text/javascript' src='wp-includes/js/wp-embed.min.js%3Fver=4.6.4'></script>
		<!--
	JIRA Issue collector seems v unreliable
	<script type="text/javascript" src="https://jira.ft.com/s/522ea8c716f027c1d18693d0cb29a056-T/en_UK-7dt5dq/64016/3/1.4.25/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector.js?locale=en-UK&amp;collectorId=eb5e21bf"></script>-->
</body>
</html>
