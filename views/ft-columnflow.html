---
layout: page
title: 'FT columnflow'
date: 2011-08-01
categories: [ex-wordpress]
permalink: /articles/ft-columnflow/
---
				<p class='standfirst'>With the advent of CSS3, it&#8217;s finally possible to lay out content in horizontally paged columns, but in a way that barely scratches the surface of the creative layouts that print publishers have been using since the <em>19th century</em>!   It&#8217;s time for the web to catch up.</p>
<figure id="attachment_1811" class="wp-caption alignnone"><img alt='Column layout in the FT web app' src="/assets/uploads/2012/06/columns.jpg" class="size-full wp-image-1811" srcset="/assets/uploads/2012/06/columns.jpg 1383w, /assets/uploads/2012/06/columns-300x185.jpg 300w, /assets/uploads/2012/06/columns-1024x631.jpg 1024w" sizes="(max-width: 1383px) 100vw, 1383px" /><figcaption class="wp-caption-text">Column layout in the FT web app</figcaption></figure>
<p>Newspapers like columns.  In fact, we&#8217;ve been printing text on very large pages in a dozen or more narrow columns for more than a century.  But online, most media companies display articles in a single scrollable column.  However, with the popularity of hand held tablets in the last couple of years, we are rediscovering column layouts for our content.</p>
<p>Effectively, tablets are as much of a new form factor as the computer screen was when we first went digital.  And in terms of a reading experience they sit somewhere in between holding a physical newspaper and reading from a computer monitor.  The most respected tablet reading apps tend to gravitate more to the classic print style, and with good reason.  That style of presentation has an elegance and readability that has had 150 years to develop.  The more interesting question is why do we do something different for the desktop and laptop user.</p>
<p>There are two factors that come into play.  One is the ubiquity of the vertical scrolling pattern: we have no choice but to present content in one single vertically scrolling column because that&#8217;s how web pages were originally conceived to work, and the input devices used to control the computer assume that the user will need to scroll vertically a lot.  Scroll wheels on mice, for example, rarely make scrolling horizontally as easy as scrolling vertically.  People have certainly tried escaping from the one-long-column pattern, but in the desktop use case it&#8217;s totally pointless, like selling a tin of beans that you&#8217;re supposed to open with a laser.  People don&#8217;t have lasers, they have tin openers, and you&#8217;re not being innovative, you&#8217;re being annoying.</p>
<p>Making up the second factor are the technical limitations of column layouts in today&#8217;s web.  Even with the latest CSS3 standard, and even using a pre-release browser build that incoporates features literally just coded, we STILL can&#8217;t elegantly do things with layout that we did in print in 1900.  When it takes a day to build a web page with a single column article, and three weeks to create a multi-column one, it&#8217;s just not worth the effort.</p>
<p>Touchscreen devices have removed the first of these issues completely.  Whilst newspapers were late to the digital party, they&#8217;ve got in early in the touchscreen era, and started experimenting with new interation styles before anything has become the defacto standard.  People are equally happy swiping in any direction &#8211; BlackBerry&#8217;s devices even attach special functions to diagonal swipes &#8211; and the posture of the user in relation to a tablet is totally different to a desktop or laptop device.</p>
<p>At the same time, we shouldn&#8217;t rush to create print-style layouts on touchscreens just because we&#8217;re scared of the internet and want to take refuge in something familiar which has worked before.  Eventually, as it did with desktop computers, a defacto standard may emerge.  But right now, the field is open to experimentation, and we can try out various ways of interacting with content without annoying people by appearing to be pointlessly swimming against the tide.</p>
<p>Which brings us to technology.  The second factor limiting our ability to use multi-column layouts on the web.  At the FT we beleive in using web technologies as the primary way of distributing our content digitally, so when we put it on tablets, we wanted column layouts.  In response to that need we created a JavaScript library that can replicate the complexity of print layouts, which we call <a href="https://github.com/ftlabs/ftcolumnflow" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/ftlabs/ftcolumnflow', 'Columnflow');">Columnflow</a>.</p>
<p><a href="https://github.com/ftlabs/ftcolumnflow" onclick="__gaTracker('send', 'event', 'outbound-article', 'https://github.com/ftlabs/ftcolumnflow', 'Columnflow');">Columnflow</a> provides a rich feature set in a small code footprint with no dependencies:</p>
<ul>
<li>Configurable column widths, gutters and margins</li>
<li>Fixed position elements</li>
<li>Elements spanning columns</li>
<li>Keep-with-next class to avoid headings at the bottom of a column</li>
<li>No-wrap class to avoid breaking marked elements across columns</li>
<li>Grouping of columns into pages</li>
<li>Standardised line height to align text baseline to a grid</li>
<li>Rapid reflow on font size change</li>
</ul>
<p>It works by rapidly identifying the &#8216;border&#8217; element, that is, the element at the bottom of column 1 which has been clipped by the boundary of the container.  The border element is then duplicated, and copied to the top of column 2, where it&#8217;s given a negative margin equal to the amount of the element that is visible in column 1.  We perform the same calculation at every multiple of the column height, to find the boundary elements and break points for subsequent columns.  After the calculations are complete, all the markup is shifted into column DIVs in one single DOM operation, which optimises the performance of the layout.</p>
<p>We use Columnflow extensively in the FT web app, and other applications produced by the labs team.  We&#8217;d be delighted if others can benefit from it and help us to enhance it, so today we&#8217;re releasing it as an open source project.  You can find the code, along with plenty of examples and full documentation on our <a href="http://github.com/ftlabs/ftcolumnflow" onclick="__gaTracker('send', 'event', 'outbound-article', 'http://github.com/ftlabs/ftcolumnflow', 'Github account');">Github account</a>.</p>
